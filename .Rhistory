all_sentences <- vector("list", n_users)
for (i in 1:n_users) {
all_sentences[i] <- jsondata[[i]]
}
warnings()
all_sen†´ces
all_sentences
df <- as.data.frame(all_sentences)
df
full_df <- data.frame()
for (i in 1:n_users) {
username <- all_usernames[i]
for (post in jsondata[[i]]$posts) {
sentiments <- post$sentiments
row <- data.frame(username             =username,
text                 =post$text,
forum_name           =post$forum_name,
time                 =as.Date(post$time),
sentiments.Fear      =sentiments$Fear,
sentiments.Joy       =sentiments$Joy,
sentiments.Sadness   =sentiments$Sadness,
sentiments.Analytical=sentiments$Analytical,
sentiments.Confident =sentiments$Confident,
sentiments.Tentative =sentiments$Tentative)
full_df.append(row)
}
}
full_df <- data.frame()
for (i in 1:n_users) {
username <- all_usernames[i]
for (post in jsondata[[i]]$posts) {
sentiments <- post$sentiments
row <- data.frame(username             =username,
text                 =post$text,
forum_name           =post$forum_name,
time                 =as.Date(post$time),
sentiments.Fear      =sentiments$Fear,
sentiments.Joy       =sentiments$Joy,
sentiments.Sadness   =sentiments$Sadness,
sentiments.Analytical=sentiments$Analytical,
sentiments.Confident =sentiments$Confident,
sentiments.Tentative =sentiments$Tentative)
rbind(full_df, row)
}
}
full_df
username <- all_usernames[i]
for (post in jsondata[[i]]$posts) {
sentiments <- post$sentiments
row <- data.frame(username             =username,
text                 =post$text,
forum_name           =post$forum_name,
time                 =as.Date(post$time),
sentiments.Fear      =sentiments$Fear,
sentiments.Joy       =sentiments$Joy,
sentiments.Sadness   =sentiments$Sadness,
sentiments.Analytical=sentiments$Analytical,
sentiments.Confident =sentiments$Confident,
sentiments.Tentative =sentiments$Tentative)
rbind(full_df, row)
}
full_df
row
full_df <- data.frame(username=character(),
text=character(),
forum_name=character(),
time=Date(),
sentiments.Anger=numeric(),
sentiments.Fear=numeric(),
sentiments.Joy=numeric(),
sentiments.Sadness=numeric(),
sentiments.Analytical=numeric(),
sentiments.Confident=numeric(),
sentiments.Tentative=numeric())
for (i in 1:n_users) {
username <- all_usernames[i]
for (post in jsondata[[i]]$posts) {
sentiments <- post$sentiments
row <- data.frame(username             =username,
text                 =post$text,
forum_name           =post$forum_name,
time                 =as.Date(post$time),
sentiments.Anger     =sentiments$Anger,
sentiments.Fear      =sentiments$Fear,
sentiments.Joy       =sentiments$Joy,
sentiments.Sadness   =sentiments$Sadness,
sentiments.Analytical=sentiments$Analytical,
sentiments.Confident =sentiments$Confident,
sentiments.Tentative =sentiments$Tentative)
rbind(full_df, row)
}
}
full_df
row
full_df
names(full_df)
full_df <- data.frame("username"=character(),
"text"=character(),
"forum_name"=character(),
"time"=Date(),
"sentiments.Anger"=numeric(),
"sentiments.Fear"=numeric(),
"sentiments.Joy"=numeric(),
"sentiments.Sadness"=numeric(),
"sentiments.Analytical"=numeric(),
"sentiments.Confident"=numeric(),
"sentiments.Tentative"=numeric())
for (i in 1:n_users) {
username <- all_usernames[i]
for (post in jsondata[[i]]$posts) {
sentiments <- post$sentiments
row <- data.frame(username             =username,
text                 =post$text,
forum_name           =post$forum_name,
time                 =as.Date(post$time),
sentiments.Anger     =sentiments$Anger,
sentiments.Fear      =sentiments$Fear,
sentiments.Joy       =sentiments$Joy,
sentiments.Sadness   =sentiments$Sadness,
sentiments.Analytical=sentiments$Analytical,
sentiments.Confident =sentiments$Confident,
sentiments.Tentative =sentiments$Tentative)
rbind(full_df, row, stringsAsFactors = FALSE)
}
}
row
full_df <- data.frame("username"=character(),
"text"=character(),
"forum_name"=character(),
"time"=as.Date(),
"sentiments.Anger"=numeric(),
"sentiments.Fear"=numeric(),
"sentiments.Joy"=numeric(),
"sentiments.Sadness"=numeric(),
"sentiments.Analytical"=numeric(),
"sentiments.Confident"=numeric(),
"sentiments.Tentative"=numeric())
full_df <- data.frame(username=character(),
text=character(),
forum_name=character(),
time=as.Date(),
sentiments.Anger=numeric(),
sentiments.Fear=numeric(),
sentiments.Joy=numeric(),
sentiments.Sadness=numeric(),
sentiments.Analytical=numeric(),
sentiments.Confident=numeric(),
sentiments.Tentative=numeric())
full_df <- data.frame(username=character(),
text=character(),
forum_name=character(),
time=date(),
sentiments.Anger=numeric(),
sentiments.Fear=numeric(),
sentiments.Joy=numeric(),
sentiments.Sadness=numeric(),
sentiments.Analytical=numeric(),
sentiments.Confident=numeric(),
sentiments.Tentative=numeric())
full_df <- as.data.frame(username=character(),
text=character(),
forum_name=character(),
time=date(),
sentiments.Anger=numeric(),
sentiments.Fear=numeric(),
sentiments.Joy=numeric(),
sentiments.Sadness=numeric(),
sentiments.Analytical=numeric(),
sentiments.Confident=numeric(),
sentiments.Tentative=numeric())
full_df <- as.data.frame(username=character(0),
text=character(0),
forum_name=character(0),
time=date(0),
sentiments.Anger=numeric(0),
sentiments.Fear=numeric(0),
sentiments.Joy=numeric(0),
sentiments.Sadness=numeric(0),
sentiments.Analytical=numeric(0),
sentiments.Confident=numeric(0),
sentiments.Tentative=numeric(0))
full_df <- as.data.frame(username=character(),
text=character(),
forum_name=character(),
time=as.Date(character()),
sentiments.Anger=numeric(),
sentiments.Fear=numeric(),
sentiments.Joy=numeric(),
sentiments.Sadness=numeric(),
sentiments.Analytical=numeric(),
sentiments.Confident=numeric(),
sentiments.Tentative=numeric())
full_df <- data.frame(username=character(),
text=character(),
forum_name=character(),
time=as.Date(character()),
sentiments.Anger=numeric(),
sentiments.Fear=numeric(),
sentiments.Joy=numeric(),
sentiments.Sadness=numeric(),
sentiments.Analytical=numeric(),
sentiments.Confident=numeric(),
sentiments.Tentative=numeric())
rbind(full_df, row, stringsAsFactors = FALSE)
full_Df
full_df
rbind(full_df, row, stringsAsFactors = FALSE)
person_df[-1] <- row
person_df <- data.frame(username=character(),
text=character(),
forum_name=character(),
time=as.Date(character()),
sentiments.Anger=numeric(),
sentiments.Fear=numeric(),
sentiments.Joy=numeric(),
sentiments.Sadness=numeric(),
sentiments.Analytical=numeric(),
sentiments.Confident=numeric(),
sentiments.Tentative=numeric())
person_df[-1] <- row
warnings()
person_Df
person_df
person_df[nrow(person_df)] <- row
warnings()
person_df[nrow(person_df) + 1] <- row
warnings()
row
length(row)
person_df <- rbind(person_df, row)
person_df
for (i in 1:n_users) {
username <- all_usernames[i]
for (post in jsondata[[i]]$posts) {
sentiments <- post$sentiments
row <- data.frame(username             =username,
text                 =post$text,
forum_name           =post$forum_name,
time                 =as.Date(post$time),
sentiments.Anger     =sentiments$Anger,
sentiments.Fear      =sentiments$Fear,
sentiments.Joy       =sentiments$Joy,
sentiments.Sadness   =sentiments$Sadness,
sentiments.Analytical=sentiments$Analytical,
sentiments.Confident =sentiments$Confident,
sentiments.Tentative =sentiments$Tentative)
person_df <- rbind(person_df, row)
}
}
person_df
people.pca <- prcomp(person_df[5:12], center=TRUE, .scale=TRUE)
people.pca <- prcomp(person_df[,5:12], center=TRUE, .scale=TRUE)
5:12
person_df[,5:12]
person_df:[,5:12]
person_df[:,5:12]
person_df[1:n,5:12]
person_df[5:12]
person_df[5:12,]
people.pca <- prcomp(person_df[,'sentiments.Anger':'sentiments.Tentative'], center=TRUE, .scale=TRUE)
people.pca
person_df[,'sentiments.Anger':'sentiments.Tentative']
person_df[,'sentiments.Anger']
person_df[,'sentiments.Anger':]
person_df %>% select('sentiments.Anger':'sentiments:Tentative')
person_df %>% select('sentiments.Anger')
person_df %>% select(`sentiments.Anger`:`sentiments.Tentative`)
people.pca <- person_df %>%
select(`sentiments.Anger`:`sentiments.Tentative`) %>%
prcomp(center=TRUE, .scale=TRUE)
people.pca <- person_df %>%
select(`sentiments.Anger`:`sentiments.Tentative`) %>%
prcomp(center=TRUE)
people.pca
ggbiplot(people.pca)
people.pca <- person_df %>%
filter(forum_name == 'solonely') %>%
select(`sentiments.Anger`:`sentiments.Tentative`) %>%
prcomp(center=TRUE)
_df %>%
filter(forum_name == 'solonely') %>%
select(`sentiments.Anger`:`sentiments.Tentative`) %>%
prcomp(center=TRUE)
ggbiplot(people.pca)
people.pca <- person_df %>%
filter(forum_name == 'solonely') %>%
select(`sentiments.Anger`:`sentiments.Tentative`) %>%
prcomp(center=TRUE)
ggbiplot(people.pca)
people.pca <- person_df %>%
filter(username == "bulbie") %>%
select(`sentiments.Anger`:`sentiments.Tentative`) %>%
prcomp(center=TRUE)
people.pca <- person_df %>%
filter(forum_name == 'solonely') %>%
select(`sentiments.Anger`:`sentiments.Tentative`) %>%
prcomp(center=TRUE)
ggbiplot(people.pca)
people.pca <- person_df %>%
filter(username == "bulbie") %>%
select(`sentiments.Anger`:`sentiments.Tentative`) %>%
prcomp(center=TRUE)
ggbiplot(people.pca)
for (i in 1:n_users) {
username <- all_usernames[i]
for (post in jsondata[[i]]$posts) {
sentiments <- post$sentiments
row <- data.frame(username             =username,
text                 =post$text,
forum_name           =post$forum_name,
time                 =as.Date(post$time),
sentiments.Anger     =sentiments$Anger,
sentiments.Fear      =sentiments$Fear,
sentiments.Joy       =sentiments$Joy,
sentiments.Sadness   =sentiments$Sadness,
sentiments.Analytical=sentiments$Analytical,
sentiments.Confident =sentiments$Confident,
sentiments.Tentative =sentiments$Tentative)
person_df[nrow(person_df) + 1,] <- row
}
}
for (i in 1:n_users) {
username <- all_usernames[i]
for (post in jsondata[[i]]$posts) {
sentiments <- post$sentiments
row <- data.frame(username             =username,
text                 =post$text,
forum_name           =post$forum_name,
time                 =as.Date(post$time),
sentiments.Anger     =sentiments$Anger,
sentiments.Fear      =sentiments$Fear,
sentiments.Joy       =sentiments$Joy,
sentiments.Sadness   =sentiments$Sadness,
sentiments.Analytical=sentiments$Analytical,
sentiments.Confident =sentiments$Confident,
sentiments.Tentative =sentiments$Tentative)
person_df[nrow(person_df) + 1,] <- row
}
print(i)
}
person_df <- read.table("data/processed/people.csv")
person_df <- read.table("data/processed/people.csv", header=TRUE)
person_df <- read.table("data/processed/people.csv", header=TRUE)
person_df <- read.csv("data/processed/people.csv", header=TRUE)
person_df <- read.table("data/processed/people.csv", header=TRUE, sep=',')
person_df
as.tibble(read.table("data/processed/people.csv", header=TRUE, sep=','))
person_df <- read_csv("data/processed/people.csv", header=TRUE)
person_df <- read_csv("data/processed/people.csv")
person_Df
person_df
person_df <- read_csv("data/processed/people.csv")
person_df
ggplot(people.pca)
ggplot(people.pca)
people.pca <- person_df %>%
filter(username == "bulbie") %>%
select(`sentiments.Anger`:`sentiments.Tentative`) %>%
prcomp(center=TRUE)
ggplot(people.pca)
autoplot(people.pca)
library(ggfortify)
install.packages('ggfortify')
library(rjson)
library(tidyverse)
library(ggfortify)
person_df <- read_csv("data/processed/people.csv")
people.pca <- person_df %>%
filter(username == "bulbie") %>%
select(`sentiments.Anger`:`sentiments.Tentative`) %>%
prcomp(center=TRUE)
autoplot(people.pca)
autoplot(people.pca)
autoplot(people.pca, color=clusters)
kmeans_obj <- kmeans(filtered_df, 10, nstart=25)
clusters <- kmeans_obj$cluster
centers <- kmeans_obj$centers
filtered_df %>% prcomp(center=TRUE)
library(rjson)
library(tidyverse)
library(ggfortify)
person_df <- read_csv("data/processed/people.csv")
filtered_df <- person_df %>%
filter(username == "bulbie") %>%
select(`sentiments.Anger`:`sentiments.Tentative`)
kmeans_obj <- kmeans(filtered_df, 10, nstart=25)
clusters <- kmeans_obj$cluster
centers <- kmeans_obj$centers
filtered_df %>% prcomp(center=TRUE)
autoplot(people.pca, color=clusters)
library(rjson)
library(tidyverse)
library(ggfortify)
person_df <- read_csv("data/processed/people.csv")
filtered_df <- person_df %>%
filter(username == "bulbie") %>%
select(`sentiments.Anger`:`sentiments.Tentative`)
kmeans_obj <- kmeans(filtered_df, 10, nstart=25)
clusters <- kmeans_obj$cluster
centers <- kmeans_obj$centers
people.pca <- filtered_df %>% prcomp(center=TRUE)
autoplot(people.pca, color=clusters)
autoplot(people.pca, colour=clusters)
ggbiplot(people.pca, color=clusters)
ggbiplot(people.pca, color=clusters)
ggbiplot(people.pca)
ggbiplot(people.pca, color=clusters,loadings = TRUE, loadings.label = TRUE)
autoplot(people.pca, color=clusters, loadings = TRUE, loadings.label = TRUE)
autoplot(people.pca, color=clusters, loadings = TRUE, loadings.label = TRUE, data=filtered_df)
autoplot(people.pca,
loadings = TRUE, loadings.label = TRUE,
labels = TRUE,
data=filtered_df)
autoplot(people.pca,
loadings = TRUE, loadings.label = TRUE,
color = clusters,
data=filtered_df)
autoplot(people.pca,
#loadings = TRUE, loadings.label = TRUE,
color = clusters,
data=filtered_df)
library(rjson)
library(tidyverse)
library(ggfortify)
person_df <- read_csv("data/processed/people.csv")
filtered_df <- person_df %>%
filter(username == "bulbie") %>%
select(`sentiments.Anger`:`sentiments.Tentative`)
kmeans_obj <- kmeans(filtered_df, 10, nstart=25)
clusters <- kmeans_obj$cluster
centers <- kmeans_obj$centers
people.pca <- filtered_df %>% prcomp(center=TRUE)
autoplot(people.pca,
#loadings = TRUE, loadings.label = TRUE,
color = clusters,
data=filtered_df)
autoplot(people.pca,
#loadings = TRUE, loadings.label = TRUE,
colour = clusters,
data=filtered_df)
autoplot(people.pca,
loadings = TRUE, loadings.label = TRUE,
colour = clusters,
data=filtered_df)
autoplotly(people.pca,
loadings = TRUE, loadings.label = TRUE,
colour = clusters,
data=filtered_df)
library(rjson)
library(tidyverse)
library(ggfortify)
person_df <- read_csv("data/processed/people.csv")
filtered_df <- person_df %>%
filter(username == "bulbie") %>%
select(`sentiments.Anger`:`sentiments.Tentative`)
kmeans_obj <- kmeans(filtered_df, 10, nstart=25)
clusters <- kmeans_obj$cluster
centers <- kmeans_obj$centers
people.pca <- filtered_df %>% prcomp(center=TRUE)
autoplotly(people.pca,
loadings = TRUE, loadings.label = TRUE,
colour = clusters,
data=filtered_df)
library(rjson)
library(tidyverse)
library(ggfortify)
library(autoplotly)
person_df <- read_csv("data/processed/people.csv")
filtered_df <- person_df %>%
filter(username == "bulbie") %>%
select(`sentiments.Anger`:`sentiments.Tentative`)
kmeans_obj <- kmeans(filtered_df, 10, nstart=25)
clusters <- kmeans_obj$cluster
centers <- kmeans_obj$centers
people.pca <- filtered_df %>% prcomp(center=TRUE)
autoplotly(people.pca,
loadings = TRUE, loadings.label = TRUE,
colour = clusters,
data=filtered_df)
install.packages('autoplotly')
library(rjson)
library(tidyverse)
library(ggfortify)
library(autoplotly)
person_df <- read_csv("data/processed/people.csv")
filtered_df <- person_df %>%
filter(username == "bulbie") %>%
select(`sentiments.Anger`:`sentiments.Tentative`)
kmeans_obj <- kmeans(filtered_df, 10, nstart=25)
clusters <- kmeans_obj$cluster
centers <- kmeans_obj$centers
people.pca <- filtered_df %>% prcomp(center=TRUE)
autoplotly(people.pca,
loadings = TRUE, loadings.label = TRUE,
colour = clusters,
data=filtered_df)
library(rjson)
library(tidyverse)
library(ggfortify)
library(autoplotly)
person_df <- read_csv("data/processed/people.csv")
filtered_df <- person_df %>%
filter(username == "bulbie") %>%
select(`sentiments.Anger`:`sentiments.Tentative`)
kmeans_obj <- kmeans(filtered_df, 10, nstart=25)
clusters <- kmeans_obj$cluster
centers <- kmeans_obj$centers
people.pca <- filtered_df %>% prcomp(center=TRUE)
autoplotly(people.pca,
loadings = TRUE, loadings.label = TRUE,
colour = clusters,
data=filtered_df)
